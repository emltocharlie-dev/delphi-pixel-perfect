<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文章详情 - OKX教程中心</title>
    
    <!-- Tailwind CSS v3.4.1 -->
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: {
                            50: '#f3f5f6',
                            100: '#e9ebed',
                            200: '#d9dbdf',
                            300: '#979fa7',
                            400: '#67707b',
                            500: '#4b5259',
                            600: '#363a3f',
                            700: '#2a2e32',
                            800: '#1f2124',
                            900: '#0e1012',
                        },
                        'primary-blue': {
                            50: '#eff8ff',
                            100: '#d1e9ff',
                            200: '#b2ddff',
                            300: '#84caff',
                            400: '#53b1fd',
                            500: '#2e90fa',
                            600: '#007afb',
                            700: '#0062ff',
                            800: '#1849a9',
                            900: '#013d9d',
                        },
                        error: {
                            50: '#fef3f2',
                            100: '#fee4e2',
                            200: '#fecdc9',
                            300: '#fda29b',
                            400: '#f97066',
                            500: '#f04438',
                            600: '#d92d20',
                            700: '#b42318',
                            800: '#912018',
                            900: '#7a271a',
                        },
                        success: {
                            50: '#ecfdf3',
                            100: '#d1fadf',
                            200: '#a6f4c5',
                            300: '#12b76a',
                            400: '#32d583',
                            500: '#039855',
                            600: '#027a48',
                            700: '#054f31',
                            800: '#054f31',
                            900: '#054f31',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
                    },
                    spacing: {
                        '128': '32rem',
                        '144': '36rem',
                    },
                    borderRadius: {
                        'xl': '0.75rem',
                        '2xl': '1rem',
                    }
                }
            },
            darkMode: 'class',
        }
    </script>
    
    <!-- Google Fonts: Inter (NeurialGrotesk替代字体) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- 原站设计系统补充CSS -->
    <link rel="stylesheet" href="./styles/design-system.css">
    <link rel="stylesheet" href="./styles/emergency-fix.css">
    <link rel="stylesheet" href="./styles/font-optimization.css">
    
    <!-- 图标 -->
    <link rel="icon" type="image/svg+xml" href="./assets/favicon.svg">
    
    <style>
        /* 加载动画 */
        #app-loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--color-border);
            border-top-color: var(--color-primary-blue-600);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        /* 文章详情页特定样式 */
        .article-content {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .article-content h1 {
            font-size: 2.25rem;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 1rem;
        }
        
        .article-content h2 {
            font-size: 1.875rem;
            font-weight: 600;
            line-height: 1.3;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .article-content h3 {
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.4;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .article-content p {
            line-height: 1.7;
            margin-bottom: 1.5rem;
            color: var(--color-text-secondary);
        }
        
        .article-content ul, .article-content ol {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
        }
        
        .article-content li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }
        
        .article-content code {
            background-color: var(--color-bg-tertiary);
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.875em;
        }
        
        .article-content pre {
            background-color: var(--color-bg-tertiary);
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }
        
        .article-content blockquote {
            border-left: 4px solid var(--color-primary-blue-500);
            padding-left: 1rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: var(--color-text-tertiary);
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-dark-800 min-h-screen">
    <!-- 加载动画 -->
    <div id="app-loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- 应用容器 -->
    <div id="app" class="hidden">
        <!-- 顶部导航栏 -->
        <header class="sticky top-0 z-50 bg-dark-900 border-b border-dark-700">
            <div class="container">
                <div class="flex items-center justify-between h-16">
                    <!-- Logo -->
                    <div class="flex items-center">
                        <a href="/" class="flex items-center space-x-2">
                            <div class="w-8 h-8 rounded-md bg-blue-600 flex items-center justify-center">
                                <span class="text-white font-semibold text-lg">O</span>
                            </div>
                            <span class="text-white font-semibold text-lg">OKX教程中心</span>
                            <span class="text-xs font-medium px-1.5 py-0.5 bg-blue-600/10 text-blue-600 rounded">BETA</span>
                        </a>
                    </div>
                    
                    <!-- 返回按钮 -->
                    <div class="flex items-center">
                        <a href="/" class="btn btn-secondary px-4 py-2 flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                            </svg>
                            <span>返回主页</span>
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- 主内容区域 -->
        <main class="container py-8">
            <!-- 文章详情容器 -->
            <div id="article-container" class="article-content">
                <div class="mb-8 text-center">
                    <div class="mb-4">
                        <span class="inline-block px-3 py-1 bg-primary-blue-500/10 text-primary-blue-500 rounded-md text-sm font-medium" id="article-category">
                            加载中...
                        </span>
                    </div>
                    
                    <h1 class="text-4xl font-semibold text-white mb-4" id="article-title">
                        文章加载中...
                    </h1>
                    
                    <div class="flex flex-col md:flex-row md:items-center justify-center gap-4 text-sm text-tertiary mb-6" id="article-meta">
                        <div class="flex items-center space-x-2">
                            <span id="article-author">作者加载中</span>
                            <span>•</span>
                            <span id="article-date">日期加载中</span>
                        </div>
                        
                        <div class="flex items-center space-x-4">
                            <span class="flex items-center space-x-1" id="article-read-time">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <span>阅读时间加载中</span>
                            </span>
                            
                            <span class="flex items-center space-x-1" id="article-views">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                                <span>浏览量加载中</span>
                            </span>
                            
                            <span class="flex items-center space-x-1" id="article-likes">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905a3.61 3.61 0 01-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
                                </svg>
                                <span>点赞数加载中</span>
                            </span>
                        </div>
                    </div>
                </div>
                
                <!-- 文章内容 -->
                <div class="prose prose-invert max-w-none" id="article-content">
                    <div class="text-center py-12">
                        <div class="loading-spinner mb-4"></div>
                        <p class="text-tertiary">加载文章内容中...</p>
                    </div>
                </div>
                
                <!-- 标签 -->
                <div class="mt-12 pt-8 border-t border-dark-700" id="article-tags">
                    <h3 class="text-lg font-medium text-white mb-4">相关标签</h3>
                    <div class="flex flex-wrap gap-2" id="tags-container">
                        <!-- 标签将通过JavaScript动态生成 -->
                    </div>
                </div>
                
                <!-- 返回按钮 -->
                <div class="mt-12 text-center">
                    <a href="/" class="btn btn-secondary px-6 py-3 inline-flex items-center space-x-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                        <span>返回主页浏览更多教程</span>
                    </a>
                </div>
            </div>
            
            <!-- 错误状态 -->
            <div id="article-error" class="hidden">
                <div class="text-center py-16">
                    <div class="w-16 h-16 mx-auto mb-4 flex items-center justify-center rounded-full bg-error-500/10 text-error-500">
                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h2 class="text-2xl font-semibold text-white mb-2">文章加载失败</h2>
                    <p class="text-tertiary mb-6" id="error-message">无法加载请求的文章</p>
                    <a href="index.html" class="btn btn-secondary px-6 py-3">返回主页</a>
                </div>
            </div>
        </main>

        <!-- 页脚 -->
        <footer class="bg-dark-900 border-t border-dark-700 mt-16">
            <div class="container py-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0">
                        <div class="flex items-center space-x-2">
                            <div class="w-6 h-6 rounded-md bg-blue-600 flex items-center justify-center">
                                <span class="text-white font-semibold text-sm">O</span>
                            </div>
                            <span class="text-white font-medium">OKX教程中心</span>
                        </div>
                        <p class="text-xs text-tertiary mt-2">专注于OKX交易平台教程和研究报告</p>
                    </div>
                    
                    <div class="text-sm text-tertiary">
                        <p>© 2026 OKX教程中心. 保留所有权利.</p>
                        <p class="mt-1">本网站为教育目的，不构成投资建议.</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript -->
    <script src="./data/content.js"></script>
    <script>
        // 文章详情页逻辑
        document.addEventListener('DOMContentLoaded', function() {
            // 获取DOM元素
            const appLoading = document.getElementById('app-loading');
            const app = document.getElementById('app');
            const articleContainer = document.getElementById('article-container');
            const articleError = document.getElementById('article-error');
            
            // 显示主应用，隐藏加载动画
            setTimeout(() => {
                appLoading.style.opacity = '0';
                setTimeout(() => {
                    appLoading.style.display = 'none';
                    app.classList.remove('hidden');
                    loadArticle();
                }, 300);
            }, 500);
            
            // 加载文章函数
            function loadArticle() {
                // 获取URL中的slug参数
                const urlParams = new URLSearchParams(window.location.search);
                const slug = urlParams.get('slug');
                
                if (!slug) {
                    showError('未指定文章');
                    return;
                }
                
                // 在CONTENT_DATA.articles中查找文章
                const article = CONTENT_DATA.articles.find(a => a.slug === slug);
                
                if (!article) {
                    showError(`未找到文章: ${slug}`);
                    return;
                }
                
                // 渲染文章
                renderArticle(article);
            }
            
            // 渲染文章
            function renderArticle(article) {
                // 更新页面标题
                document.title = `${article.title} - OKX教程中心`;
                
                // 更新文章信息
                document.getElementById('article-category').textContent = article.category;
                document.getElementById('article-title').textContent = article.title;
                document.getElementById('article-author').textContent = article.author;
                document.getElementById('article-date').textContent = formatDate(article.publishedDate);
                document.getElementById('article-read-time').innerHTML = `
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <span>${article.readTime}</span>
                `;
                document.getElementById('article-views').innerHTML = `
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                    </svg>
                    <span>${formatNumber(article.views)} 次浏览</span>
                `;
                document.getElementById('article-likes').innerHTML = `
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905a3.61 3.61 0 01-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5" />
                    </svg>
                    <span>${formatNumber(article.likes)} 个点赞</span>
                `;
                
                // 更新文章内容
                const contentElement = document.getElementById('article-content');
                contentElement.innerHTML = `
                    <div class="prose prose-invert max-w-none">
                        <div class="mb-8 text-tertiary">
                            ${article.description}
                        </div>
                        
                        <div class="article-body">
                            ${article.content || generateArticleContent(article)}
                        </div>
                    </div>
                `;
                
                // 更新标签
                const tagsContainer = document.getElementById('tags-container');
                if (article.tags && article.tags.length > 0) {
                    tagsContainer.innerHTML = article.tags.map(tag => `
                        <span class="px-3 py-1 bg-dark-700 text-dark-300 rounded-md text-sm">
                            ${tag}
                        </span>
                    `).join('');
                } else {
                    document.getElementById('article-tags').classList.add('hidden');
                }
            }
            
            // 生成示例文章内容（如果文章没有完整内容）
            function generateArticleContent(article) {
                return `
                    <h2>文章简介</h2>
                    <p>这是一篇关于 <strong>${article.title}</strong> 的详细教程。</p>
                    
                    <h2>主要内容</h2>
                    <p>${article.description}</p>
                    
                    <h2>关键要点</h2>
                    <ul>
                        <li>详细解析${article.category}相关内容</li>
                        <li>提供实用技巧和最佳实践</li>
                        <li>包含步骤指导和注意事项</li>
                        <li>适合${article.difficulty || '所有'}级别用户</li>
                    </ul>
                    
                    <h2>总结</h2>
                    <p>本文全面介绍了${article.title}，帮助用户更好地理解和使用相关功能。</p>
                    
                    <div class="bg-primary-blue-500/10 border border-primary-blue-500/20 rounded-lg p-4 my-6">
                        <h3 class="text-primary-blue-500 font-medium mb-2">温馨提示</h3>
                        <p class="text-sm">本文内容仅供参考，实际操作时请根据最新平台规则和个人情况调整。</p>
                    </div>
                `;
            }
            
            // 显示错误
            function showError(message) {
                articleContainer.classList.add('hidden');
                articleError.classList.remove('hidden');
                document.getElementById('error-message').textContent = message;
            }
            
            // 工具函数
            function formatDate(dateString) {
                if (!dateString) return '未知日期';
                try {
                    const date = new Date(dateString);
                    return date.toLocaleDateString('zh-CN', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                } catch (e) {
                    return dateString;
                }
            }
            
            function formatNumber(num) {
                if (!num && num !== 0) return '0';
                if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
                if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
                return num.toString();
            }
        });
    </script>
</body>
</html>